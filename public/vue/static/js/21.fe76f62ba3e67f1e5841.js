webpackJsonp([21],{"5uHC":function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a={name:"index",data:function(){return{car_num:1,buy_num:1,logoimage:"",hb_val:"",title:"",price:"",depositprice:"",id:"",details:"",shou:!1,shous:!1,order_num:"",stock:"",cityd:"",endcity:"",start_shop:"",destination_:"",hbnumber:"",hbtime:"",jichangname:"",endchangname:""}},methods:{back:function(){this.$router.push("/?cityd="+this.cityd+"&endcity="+this.endcity+"&ids="+this.start_shop+"&eid="+this.destination_+"&hb_val="+this.hb_val+"&hbtime="+this.hbtime+"&jichangname="+this.jichangname+"&endchangname="+this.endchangname)},vanishs:function(){this.shous=!1},Oclicks:function(){this.shous=!0},vanish:function(){this.shou=!1},set_phoneClick:function(){this.$router.push("/set_phone")},Oclick:function(){this.shou=!0},orderClick:function(t,i,s,a,e,n,o){this.$router.push("order_form?logoimage="+this.logoimage+"&title="+this.title+"&price="+this.price+"&depositprice="+this.depositprice+"&eid="+this.id+"&buy_num="+this.buy_num+"&order_num="+this.order_num)},detail:function(t){var i=this,s="/api/index/equidetail?eid="+this.id;i.httpGet(s,function(t){1==t.code?(i.details=t.data,i.logoimage=t.data.logoimage,i.title=t.data.title,i.price=t.data.price,i.depositprice=t.data.depositprice,i.stock=t.data.stock):i.$dialog.toast({mes:t.msg,timeout:1500,icon:"error"})})},AddCar:function(){var t=this,i=localStorage.getItem("start_city"),s=localStorage.getItem("endcity"),a=localStorage.getItem("ids"),e=localStorage.getItem("destination_"),n=localStorage.getItem("hbnumber"),o=localStorage.getItem("hbtime"),c=localStorage.getItem("start_shop"),d=localStorage.getItem("end_shop");if(""==i||void 0==i||""==s||void 0==s||""==a||void 0==a||""==e||void 0==e||""==n||void 0==n||""==o||void 0==o)return setTimeout(function(){t.$router.push("/?cityd="+i+"&endcity="+s+"&jichangname="+c+"&endchangname="+d+"&ids="+a+"&eid="+e+"&hb_val="+this.hb_val)},1500),void t.$dialog.toast({mes:"请补全行程信息！",timeout:1500});var l="/api/shop_car/index?shopid="+this.details.shop_id+"&eid="+this.details.id+"&num="+this.car_num+"&start_city="+i+"&destination_city="+s+"&start_shop="+a+"&destination_shop="+e+"&hbnumber="+this.hb_val+"&hbtime="+o;t.httpGet(l,function(n){1==n.code?(setTimeout(function(){t.$router.push("/shop_car")},1500),t.$dialog.toast({mes:"添加成功！",icon:"success",timeout:1500})):202==n.data.code&&(setTimeout(function(){t.$router.push("/?cityd="+i+"&endcity="+s+"&jichangname="+c+"&endchangname="+d+"&ids="+a+"&eid="+e+"&hb_val="+this.hb_val)},1500),t.$dialog.toast({mes:n.msg,timeout:1500,icon:"error"}))})},notarize:function(){var t=this,i=localStorage.getItem("start_city"),s=localStorage.getItem("endcity"),a=localStorage.getItem("ids"),e=localStorage.getItem("destination_"),n=localStorage.getItem("hbnumber"),o=localStorage.getItem("hbtime"),c=localStorage.getItem("start_shop"),d=localStorage.getItem("end_shop");if(""==i||void 0==i||""==s||void 0==s||""==a||void 0==a||""==e||void 0==e||""==n||void 0==n||""==o||void 0==o)return setTimeout(function(){t.$router.push("/?cityd="+i+"&endcity="+s+"&jichangname="+c+"&endchangname="+d+"&ids="+a+"&eid="+e+"&hb_val="+this.hb_val)},1500),void t.$dialog.toast({mes:"请补全行程信息！",timeout:1500});var l="/api/index/order?shopid="+this.details.shop_id+"&eid="+this.details.id+"&num="+this.buy_num+"&start_city="+i+"&destination_city="+s+"&start_shop="+a+"&destination_shop="+e+"&hbnumber="+this.hb_val+"&hbtime="+o;t.httpGet(l,function(n){console.log(1111,n),1==n.code?(t.order_num=n.data,setTimeout(function(){t.orderClick()},1500),t.$dialog.toast({mes:n.msg,icon:"success",timeout:1500})):202==n.data.code?(setTimeout(function(){t.$router.push("/?cityd="+i+"&endcity="+s+"&jichangname="+c+"&endchangname="+d+"&ids="+a+"&eid="+e+"&hb_val="+this.hb_val)},1500),t.$dialog.toast({mes:n.msg,timeout:1500})):201==n.data.code?(setTimeout(function(){t.set_phoneClick()},1500),t.$dialog.toast({mes:n.msg,timeout:1500})):204==n.data.code&&(setTimeout(function(){t.$router.push("/?cityd="+i+"&endcity="+s+"&jichangname="+c+"&endchangname="+d+"&ids="+a+"&eid="+e+"&hb_val="+this.hb_val)},1500),t.$dialog.toast({mes:n.msg,timeout:1500}))})}},created:function(){this.id=this.$route.query.id,this.detail(this.id),this.hb_val=this.$route.query.hb_val,this.cityd=localStorage.getItem("start_city"),this.endcity=localStorage.getItem("endcity"),this.start_shop=localStorage.getItem("ids"),this.destination_=localStorage.getItem("destination_"),this.hbnumber=localStorage.getItem("hbnumber"),this.hbtime=localStorage.getItem("hbtime"),this.jichangname=localStorage.getItem("start_shop"),this.endchangname=localStorage.getItem("end_shop")}},e={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"homepage"},[a("div",{staticClass:"top_tab"},[a("div",{staticClass:"left",on:{click:t.back}},[a("img",{staticClass:"xzs",attrs:{src:s("ohgX")}})]),t._v(" "),a("span",[t._v("详情")]),t._v(" "),a("div",{staticClass:"right"})]),t._v(" "),a("div",{staticClass:"hight-r"}),t._v(" "),a("div",{staticClass:"pro-img"},[a("img",{attrs:{src:t.details.logoimage}})]),t._v(" "),a("div",{staticClass:"xx"},[a("span",{staticClass:"name"},[t._v(t._s(t.details.title))]),t._v(" "),a("div",{staticClass:"price"},[a("span",[t._v("租赁："),a("span",{staticClass:"org"},[t._v("￥"+t._s(t.details.price))]),t._v("/次")]),t._v(" "),a("span",[t._v("押金："),a("span",{staticClass:"org"},[t._v("￥"+t._s(t.details.depositprice))]),t._v("/个")])]),t._v(" "),a("div",{staticClass:"price"},[a("span",[t._v("库存："),a("span",{staticClass:"org"},[t._v(t._s(t.details.stock))]),t._v(" 件")])])]),t._v(" "),a("div",{staticClass:"center"},[a("div",[a("span",{domProps:{innerHTML:t._s(t.details.content)}})])]),t._v(" "),a("div",{staticClass:"guige"},t._l(t.details.detailimages,function(t,i){return a("img",{key:i,attrs:{src:t}})}),0),t._v(" "),a("div",{staticClass:"hight-l"}),t._v(" "),a("div",{staticClass:"btn"},[a("div",{staticClass:"car",on:{click:function(i){return t.Oclicks()}}},[a("span",[t._v("加入购物车")])]),t._v(" "),a("div",{staticClass:"order",on:{click:function(i){return t.Oclick()}}},[a("span",[t._v("立即下单")])])]),t._v(" "),t.shous?a("div",{staticClass:"mebs"},[a("div",{staticClass:"boxts"},[a("div",{staticClass:"top"},[a("div",{staticClass:"pro"},[a("div",{staticClass:"pic"},[a("img",{attrs:{src:t.details.logoimage}})]),t._v(" "),a("span",[t._v("￥"+t._s(t.details.price*t.car_num))])]),t._v(" "),a("div",{staticClass:"del",on:{click:function(i){return t.vanishs()}}},[a("img",{attrs:{src:s("KTlb")}})])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"xz"},[a("span",{staticClass:"txt"},[t._v("租赁数量")]),t._v(" "),a("div",{staticClass:"num"},[a("div",{staticClass:"minus",on:{click:function(i){t.car_num>1&&t.car_num--}}},[a("span",[t._v("-")])]),t._v(" "),a("span",{staticClass:"sz"},[t._v(t._s(t.car_num))]),t._v(" "),a("div",{staticClass:"add",on:{click:function(i){t.car_num<t.stock&&t.car_num++}}},[a("span",[t._v("+")])])])]),t._v(" "),a("div",{staticClass:"btn_car",on:{click:function(i){return t.AddCar()}}},[a("span",[t._v("加入购物车")])])])]):t._e(),t._v(" "),t.shou?a("div",{staticClass:"meb"},[a("div",{staticClass:"boxt"},[a("div",{staticClass:"top"},[a("div",{staticClass:"pro"},[a("div",{staticClass:"pic"},[a("img",{attrs:{src:t.details.logoimage}})]),t._v(" "),a("span",[t._v("￥"+t._s(t.details.price*t.buy_num))])]),t._v(" "),a("div",{staticClass:"del",on:{click:function(i){return t.vanish()}}},[a("img",{attrs:{src:s("KTlb")}})])]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"xz"},[a("span",{staticClass:"txt"},[t._v("租赁数量")]),t._v(" "),a("div",{staticClass:"num"},[a("div",{staticClass:"minus",on:{click:function(i){t.buy_num>1&&t.buy_num--}}},[a("span",[t._v("-")])]),t._v(" "),a("span",{staticClass:"sz"},[t._v(t._s(t.buy_num))]),t._v(" "),a("div",{staticClass:"add",on:{click:function(i){t.buy_num<t.stock&&t.buy_num++}}},[a("span",[t._v("+")])])])]),t._v(" "),a("div",{staticClass:"btn_car",on:{click:function(i){return t.notarize()}}},[a("span",[t._v("确定")])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"fg"},[i("div",{staticClass:"xian"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"fg"},[i("div",{staticClass:"xian"})])}]};var n=s("VU/8")(a,e,!1,function(t){s("dHed"),s("QnjL")},"data-v-61bf4464",null);i.default=n.exports},QnjL:function(t,i){},dHed:function(t,i){}});
//# sourceMappingURL=21.fe76f62ba3e67f1e5841.js.map